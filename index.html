<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Soft Blue-Themed Home & To-Do Sidebar</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/js/all.min.js"></script>
  <style>
    /* --- Global Styles --- */
    body {
      background-color: #F7FAFC; /* light neutral */
      margin: 0;
      padding-right: 360px; /* sidebar space */
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      color: #334E68; /* soft dark slate blue */
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    /* --- Quote Box --- */
    #quote-section {
      max-width: 400px;
      margin: 2rem auto;
      background-color: #A8C0FF; /* soft pastel blue */
      padding: 24px 28px;
      border-radius: 16px;
      box-shadow: 0 8px 16px rgba(168, 192, 255, 0.4);
      color: #1E293B; /* dark slate */
      text-align: center;
      font-weight: 500;
      letter-spacing: 0.02em;
      user-select: none;
      transition: background-color 0.3s ease;
    }
    #quote-section h3 {
      font-size: 1.4rem;
      font-weight: 600;
      margin-bottom: 1rem;
      color: #334E68;
    }
    #quote-text {
      font-size: 1.15rem;
      font-style: italic;
      line-height: 1.4;
      color: #475569;
    }

    /* Welcome Text */
    .welcome-text {
      margin-top: 4rem;
      text-align: center;
      font-size: 2.25rem;
      font-weight: 700;
      color: #334E68; /* slate blue */
      letter-spacing: 0.03em;
    }

    /* --- Navigation Bar --- */
    nav {
      background-color: white;
      box-shadow: 0px -3px 8px rgba(0, 0, 0, 0.08);
      position: fixed;
      bottom: 0;
      width: 100%;
      padding: 1rem 0;
      display: flex;
      justify-content: space-around;
      align-items: center;
      z-index: 999;
      user-select: none;
    }
    nav a {
      color: #334E68; /* slate blue */
      display: flex;
      flex-direction: column;
      align-items: center;
      font-size: 0.875rem;
      text-decoration: none;
      font-weight: 600;
      transition: color 0.25s ease;
    }
    nav a:hover {
      color: #6B82A8; /* lighter soft blue */
    }
    nav i {
      font-size: 1.6rem;
      margin-bottom: 0.3rem;
      transition: transform 0.3s ease;
    }
    nav a:hover i {
      transform: scale(1.15);
    }

    /* --- Updated To-Do List Sidebar Styles --- */
    .reward-popup {
      position: fixed;
      top: -100px;
      left: calc(100% - 190px);
      transform: translateX(-50%);
      background-color: #22c55e; /* Tailwind green-500 */
      color: white;
      padding: 15px 25px;
      border-radius: 12px;
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
      font-size: 1rem;
      font-weight: 600;
      z-index: 10000;
      transition: top 0.6s ease;
      user-select: none;
    }
    .reward-popup.show {
      top: 30px;
    }
    .todo-box {
      position: fixed;
      top: 50px;
      right: 20px;
      background: #D6E4FF; /* very soft baby blue */
      padding: 28px 24px;
      border-radius: 20px;
      box-shadow: 0 12px 28px rgba(214, 228, 255, 0.7);
      width: 340px;
      max-height: 80vh;
      overflow-y: auto;
      z-index: 9999;
      display: flex;
      flex-direction: column;
      color: #334E68; /* slate blue text */
      user-select: none;
    }
    .todo-box h2 {
      margin-bottom: 20px;
      font-size: 1.5rem;
      font-weight: 600;
      color: #334E68;
      letter-spacing: 0.02em;
      border-bottom: 2px solid #B0C4FF; /* subtle soft underline */
      padding-bottom: 6px;
      user-select: text;
    }
    ul#todo-list {
      list-style: none;
      padding: 0;
      margin: 0;
      flex-grow: 1;
      overflow-y: auto;
      scroll-behavior: smooth;
    }
    ul#todo-list li {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 14px;
      font-size: 1rem;
      background: #B0C4FF; /* soft blue */
      padding: 10px 14px;
      border-radius: 12px;
      box-shadow: 0 2px 6px rgba(176, 196, 255, 0.6);
      transition: background-color 0.3s ease;
      user-select: text;
      color: #1E293B;
    }
    ul#todo-list li:hover {
      background: #C9D9FF; /* highlight lighter blue */
    }
    .left {
      display: flex;
      align-items: center;
    }
    input[type="checkbox"] {
      margin-right: 12px;
      transform: scale(1.25);
      cursor: pointer;
      accent-color: #94A3B8; /* subtle slate blue */
      transition: accent-color 0.3s ease;
    }
    input[type="checkbox"]:hover {
      accent-color: #64748B;
    }
    .delete-btn {
      background: none;
      border: none;
      font-size: 1.25rem;
      color: #F87171; /* soft red */
      cursor: pointer;
      transition: color 0.3s ease;
      user-select: none;
    }
    .delete-btn:hover {
      color: #B91C1C; /* deeper red */
    }
    #add-task-btn {
      margin-top: 20px;
      background-color: #A8C0FF; /* soft pastel blue */
      color: #1E293B;
      padding: 12px 18px;
      border: none;
      border-radius: 12px;
      cursor: pointer;
      font-size: 1.05rem;
      font-weight: 600;
      flex-shrink: 0;
      transition: background-color 0.3s ease, box-shadow 0.3s ease;
      box-shadow: 0 4px 10px rgba(168, 192, 255, 0.6);
      user-select: none;
    }
    #add-task-btn:hover {
      background-color: #8FA9FF;
      box-shadow: 0 6px 18px rgba(143, 169, 255, 0.8);
    }
    #progress {
      margin-top: 15px;
      font-weight: 600;
      color: #64748B;
      flex-shrink: 0;
      user-select: none;
      letter-spacing: 0.02em;
    }

    /* Confetti */
    .confetti {
      position: absolute;
      width: 16px;
      height: 16px;
      background-color: #FBBF24; /* bright yellow */
      border-radius: 4px;
      animation: pop 1.5s ease-out forwards;
      pointer-events: none;
      z-index: 9999;
    }
    @keyframes pop {
      100% {
        transform: translate(var(--x), var(--y)) rotate(1080deg);
        opacity: 0;
      }
    }
  </style>
</head>
<body>

  <!-- Motivational Quote Section -->
  <div id="quote-section" role="region" aria-label="Daily motivational quote">
    <h3>Your Daily Motivation</h3>
    <p id="quote-text">Loading quote...</p>
  </div>

  <!-- Welcome Text -->
  <div class="welcome-text" role="heading" aria-level="1">Welcome, Student!</div>

  <!-- Bottom Navigation Bar -->
  <nav role="navigation" aria-label="Primary navigation">
    <a href="upcoming.html" aria-label="Upcoming tasks">
      <i class="fas fa-clock" aria-hidden="true"></i>
      <span>Upcoming</span>
    </a>
    <a href="index.html" aria-label="Home page">
      <i class="fas fa-home" aria-hidden="true"></i>
      <span>Home</span>
    </a>
    <a href="grade-tracker.html" aria-label="Grade tracker">
      <i class="fas fa-chart-line" aria-hidden="true"></i>
      <span>Grade Tracker</span>
    </a>
    <a href="leaderboard.html" aria-label="Leaderboard">
      <i class="fas fa-trophy" aria-hidden="true"></i>
      <span>Leaderboard</span>
    </a>
  </nav>

  <!-- To-Do List Sidebar -->
  <section class="todo-box" aria-label="Daily To-Do List">
    <h2>📅 Today's To-Do List</h2>
    <ul id="todo-list"></ul>
    <button id="add-task-btn" onclick="addTask()" aria-label="Add new task">+ Add Task</button>
    <p id="progress" aria-live="polite">✅ 0/0 tasks complete</p>
  </section>

  <!-- Reward popup -->
  <div class="reward-popup" id="reward-popup" role="alert" aria-live="assertive" aria-atomic="true">
    🎉 All tasks completed! Great job!
  </div>

  <script>
    // Quotes array
    const quotes = [
      "Believe you can and you're halfway there.",
      "The only way to do great work is to love what you do.",
      "Success is not the key to happiness. Happiness is the key to success.",
      "Don’t watch the clock; do what it does. Keep going.",
      "Success is not final, failure is not fatal: It is the courage to continue that counts.",
      "The future belongs to those who believe in the beauty of their dreams.",
      "Your time is limited, so don’t waste it living someone else’s life.",
      "The only limit to our realization of tomorrow is our doubts of today.",
      "Hardships often prepare ordinary people for an extraordinary destiny."
    ];
    function showDailyQuote() {
      const today = new Date();
      const quoteIndex = today.getDate() % quotes.length;
      document.getElementById('quote-text').innerText = quotes[quoteIndex];
    }
    window.onload = showDailyQuote;

    // To-Do List Functions
    function updateProgress() {
      const checkboxes = document.querySelectorAll('#todo-list input[type="checkbox"]');
      let completed = 0;
      checkboxes.forEach(cb => {
        if (cb.checked) completed++;
      });

      const total = checkboxes.length;
      document.getElementById('progress').innerText = `✅ ${completed}/${total} tasks complete`;

      if (total > 0 && completed === total) {
        showReward();
      }
    }

    function checkTask(checkbox) {
      if (checkbox.checked) {
        dropConfettiFromCenter();
      }
      updateProgress();
    }

    function addTask() {
      const task = prompt("Enter your new task:");
      if (task && task.trim() !== "") {
        const li = document.createElement("li");

        const leftDiv = document.createElement("div");
        leftDiv.className = "left";

        const checkbox = document.createElement("input");
        checkbox.type = "checkbox";
        checkbox.onchange = function () { checkTask(checkbox); };

        leftDiv.appendChild(checkbox);
        leftDiv.appendChild(document.createTextNode(task.trim()));

        const deleteBtn = document.createElement("button");
        deleteBtn.className = "delete-btn";
        deleteBtn.innerHTML = "🗑️";
        deleteBtn.onclick = function () {
          li.remove();
          updateProgress();
        };

        li.appendChild(leftDiv);
        li.appendChild(deleteBtn);

        document.getElementById("todo-list").appendChild(li);
        updateProgress();
      }
    }

    function dropConfettiFromCenter() {
      const centerX = window.innerWidth - 190; // approx center of sidebar horizontally
      const centerY = 150; // near top inside sidebar vertically

      for (let i = 0; i < 80; i++) {
        const confetti = document.createElement("div");
        confetti.classList.add("confetti");

        const angle = Math.random() * 2 * Math.PI;
        const distance = Math.random() * 200 + 50;

        const x = Math.cos(angle) * distance + 'px';
        const y = Math.sin(angle) * distance + 'px';

        confetti.style.left = `${centerX}px`;
        confetti.style.top = `${centerY}px`;
        confetti.style.setProperty('--x', x);
        confetti.style.setProperty('--y', y);
        confetti.style.backgroundColor = `hsl(${Math.random() * 360}, 70%, 60%)`;

        document.body.appendChild(confetti);

        setTimeout(() => {
          confetti.remove();
        }, 1500);
      }
    }

    function showReward() {
      const popup = document.getElementById("reward-popup");
      popup.classList.add("show");

      setTimeout(() => {
        popup.classList.remove("show");
      }, 4000); // Hide after 4 seconds
    }
  </script>
</body>
</html>
